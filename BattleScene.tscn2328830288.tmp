[gd_scene load_steps=8 format=3 uid="uid://doefmek85em7s"]

[ext_resource type="Script" uid="uid://opdal5431uu6" path="res://BattleScene.gd" id="1_g1ijt"]
[ext_resource type="PackedScene" uid="uid://djoqkn041ds2g" path="res://CombatCore/CombatCore.tscn" id="2_fwi32"]
[ext_resource type="PackedScene" uid="uid://crkv3v45urdvj" path="res://player.tscn" id="3_waaa0"]
[ext_resource type="PackedScene" uid="uid://d2evuh2ejf4f" path="res://EnemySystem/enemy.tscn" id="4_rq4sq"]
[ext_resource type="Resource" uid="uid://cnbrkx65wed7m" path="res://EnemySystem/Enemies/test_enemy.tres" id="5_6fo83"]
[ext_resource type="Resource" uid="uid://cvd1scv52myvx" path="res://EnemySystem/Enemies/test_enemy_2.tres" id="6_fvvkq"]
[ext_resource type="FontFile" uid="uid://5xyvrcahqhvm" path="res://UI/ark-pixel-16px-proportional-ja.ttf" id="7_5d7b1"]

[node name="BattleScene" type="Node2D"]
script = ExtResource("1_g1ijt")

[node name="CombatCore" parent="." instance=ExtResource("2_fwi32")]
unique_name_in_owner = true

[node name="Player" parent="." instance=ExtResource("3_waaa0")]
visible = false

[node name="Enemy1" parent="." instance=ExtResource("4_rq4sq")]
visible = false
enemy_data = ExtResource("5_6fo83")

[node name="Enemy2" parent="." instance=ExtResource("4_rq4sq")]
visible = false
enemy_data = ExtResource("6_fvvkq")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
follow_viewport_enabled = true

[node name="OutOfCombatUI" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="Buttons" type="Control" parent="CanvasLayer/OutOfCombatUI"]
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="BeginCombatButton" type="Button" parent="CanvasLayer/OutOfCombatUI/Buttons"]
layout_mode = 0
offset_left = 165.0
offset_top = 225.0
offset_right = 305.0
offset_bottom = 305.0
theme_override_fonts/font = ExtResource("7_5d7b1")
theme_override_font_sizes/font_size = 16
text = "Begin Combat
Enemy 1"

[node name="BeginCombatButton2" type="Button" parent="CanvasLayer/OutOfCombatUI/Buttons"]
layout_mode = 0
offset_left = 351.0
offset_top = 225.0
offset_right = 491.0
offset_bottom = 305.0
theme_override_fonts/font = ExtResource("7_5d7b1")
theme_override_font_sizes/font_size = 16
text = "Begin Combat
Enemy 2"

[node name="Edit-Player-Info" type="Button" parent="CanvasLayer/OutOfCombatUI/Buttons"]
custom_minimum_size = Vector2(140, 80)
layout_mode = 0
offset_left = 255.0
offset_top = 133.0
offset_right = 395.0
offset_bottom = 213.0
theme_override_fonts/font = ExtResource("7_5d7b1")
theme_override_font_sizes/font_size = 16
text = "Edit Player Info"

[node name="PlayerInfoEditorUI" type="Control" parent="CanvasLayer/OutOfCombatUI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="RichTextLabel" type="RichTextLabel" parent="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI/VBoxContainer"]
layout_mode = 2
theme_override_fonts/normal_font = ExtResource("7_5d7b1")
text = "Ship Type 1                Ship Type 2"
fit_content = true

[node name="HBoxContainer" type="HBoxContainer" parent="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="Ship Type" type="Control" parent="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="ShipType1Select" type="ItemList" parent="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI/VBoxContainer/HBoxContainer/Ship Type"]
custom_minimum_size = Vector2(200, 1.365)
layout_mode = 2
offset_left = 4.0
offset_right = 204.0
offset_bottom = 332.0
grow_horizontal = 2
grow_vertical = 2
theme_override_fonts/font = ExtResource("7_5d7b1")
item_count = 8
item_0/text = "Physical"
item_1/text = "Magic - Ocean"
item_2/text = "Magic - Storm"
item_3/text = "Magic - Fire"
item_4/text = "Magic - Resonance"
item_5/text = "Magic - Spectral"
item_6/text = "Magic - Ancient"
item_7/text = "Magic Arcane"

[node name="ShipType2Select" type="ItemList" parent="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI/VBoxContainer/HBoxContainer/Ship Type"]
custom_minimum_size = Vector2(200, 1.365)
layout_mode = 2
offset_left = 208.0
offset_right = 408.0
offset_bottom = 332.0
theme_override_fonts/font = ExtResource("7_5d7b1")
item_count = 9
item_0/text = "N/A"
item_1/text = "Physical"
item_2/text = "Magic - Ocean"
item_3/text = "Magic - Storm"
item_4/text = "Magic - Fire"
item_5/text = "Magic - Resonance"
item_6/text = "Magic - Spectral"
item_7/text = "Magic - Ancient"
item_8/text = "Magic Arcane"

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI/VBoxContainer/HBoxContainer"]
layout_mode = 2
alignment = 1

[node name="Return" type="Button" parent="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI/VBoxContainer/HBoxContainer/VBoxContainer"]
custom_minimum_size = Vector2(140, 80)
layout_mode = 2
theme_override_fonts/font = ExtResource("7_5d7b1")
theme_override_font_sizes/font_size = 16
text = "Return"

[connection signal="pressed" from="CanvasLayer/OutOfCombatUI/Buttons/BeginCombatButton" to="." method="_on_begin_combat_button_pressed"]
[connection signal="pressed" from="CanvasLayer/OutOfCombatUI/Buttons/BeginCombatButton2" to="." method="_on_begin_combat_button_2_pressed"]
[connection signal="pressed" from="CanvasLayer/OutOfCombatUI/Buttons/Edit-Player-Info" to="." method="_on_edit_player_info_pressed"]
[connection signal="item_clicked" from="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI/VBoxContainer/HBoxContainer/Ship Type/ShipType1Select" to="." method="_on_ship_type_1_select_item_clicked"]
[connection signal="item_clicked" from="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI/VBoxContainer/HBoxContainer/Ship Type/ShipType2Select" to="." method="_on_ship_type_2_select_item_clicked"]
[connection signal="pressed" from="CanvasLayer/OutOfCombatUI/PlayerInfoEditorUI/VBoxContainer/HBoxContainer/VBoxContainer/Return" to="." method="_on_return_pressed"]
